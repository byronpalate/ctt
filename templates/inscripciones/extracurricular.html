{% extends "basebs.html" %}
{% block heading %}
    <script type="text/javascript">
        $(function() {

        });
    </script>
{% endblock %}
{% block atras %}/inscripciones?action=record&id={{ inscripcion.id }}{% endblock %}
{% block headcanvas %}
    <div class="row mb-2">
        <div class="col-12">
            <h4>{{ title }}
            <br>Estudiante: {{ inscripcion.persona }}</h4>
        </div>
    </div>
{% endblock %}
{% block canvas %}
    <div class='row'>
        <div class="col-12">
            <h4>Pasantías</h4>
            <table class='table table-bordered table-striped'>
                <thead class="table-light">
                <tr>
                    <th>Instituci&oacute;n</th>
                    <th style="width: 30%;">Cargo</th>
                    <th style="width: 80px; text-align: center;">Inicio</th>
                    <th style="width: 80px; text-align: center;">Fin</th>
                    <th style="width: 80px; text-align: center;">Horas</th>
                    <th style="width: 80px; text-align: center;">Calificaci&oacute;n</th>
                    <th style="width: 90px; text-align: center;">Estado</th>
                    <th style="width: 90px; text-align: center;">Cambio</th>
                </tr>
                </thead>
                <tbody>
                {% for pasantia in pasantias %}
                    <tr>
                        <td>{{ pasantia.convenio.empleador }}<br/>
                        <td>{{ pasantia.cargoadesempenar }}</td>
                        <td style="text-align: center;">{{ pasantia.inicio|date:"Y-m-d" }}</td>
                        <td style="text-align: center;">{{ pasantia.fin|date:"Y-m-d" }}</td>
                        <td style="text-align: center;">{{ pasantia.horas|floatformat:1 }}</td>
                        <td style="text-align: center;">{{ pasantia.calificacion|floatformat:2 }}</td>
                        <td style="text-align: center;">
                            {% if pasantia.pendiente %}
                                <span class="badge text-bg-warning">PENDIENTE</span>
                            {% elif pasantia.aprobada %}
                                <span class="badge text-bg-success">APROBADA</span>
                            {% else %}
                                <span class="badge text-bg-danger">REPROBADA</span>
                            {% endif %}
                        </td>
                        <td style="text-align: center;">
                            <a href="javascript:;" nhref="/inscripciones?action=cambiarinscripcionpasantia&id={{ pasantia.id }}" class='btn btn-ssm btn-success formmodal tu'><i class="icon-refresh"></i></a>
                        </td>
                    </tr>
                    {% if forloop.last %}
                        <tr>
                            <td colspan="4">
                                <b>TOTAL</b>
                            </td>
                            <td style="text-align: center;">
                                <b>{{ inscripcion.horas_pasantias|floatformat:0 }}</b>
                            </td>
                            <td style="text-align: center;">
                                <b>{{ inscripcion.promedio_pasantias|floatformat:2 }}</b>
                            </td>
                            <td></td>
                        </tr>
                    {% endif %}
                {% empty %}
                    <tr>
                        <td colspan="20">NO EXISTEN DATOS</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div class='row'>
        <div class="col-12">
            <h4>Seminarios, cursos o talleres</h4>
            <table class='table table-bordered table-striped'>
                <thead class="table-light">
                <tr>
                    <th>Actividad</th>
                    <th style="width: 300px;">Tipo</th>
                    <th style="width: 80px; text-align: center;">Inicio</th>
                    <th style="width: 80px; text-align: center;">Fin</th>
                    <th style="width: 50px; text-align: center;">Horas</th>
                    <th style="width: 80px; text-align: center;">Calificaci&oacute;n</th>
                    <th style="width: 80px; text-align: center;">Asistencia</th>
                    <th style="width: 90px; text-align: center;">Estado</th>
                </tr>
                </thead>
                <tbody>
                {% for taller in talleres %}
                    <tr>
                        <td>{{ taller.actividad.nombre }}<br/>
                        <td>{{ taller.actividad.tipo }}</td>
                        <td style="text-align: center;">{{ taller.actividad.fechainicio|date:"Y-m-d" }}</td>
                        <td style="text-align: center;">{{ taller.actividad.fechafin|date:"Y-m-d" }}</td>
                        <td style="text-align: center;">{{ taller.actividad.horas|floatformat:1 }}</td>
                        <td style="text-align: center;">{{ taller.nota|floatformat:2 }}</td>
                        <td style="text-align: center;">{{ taller.asistencia|floatformat:0 }}%</td>
                        <td style="text-align: center;">
                            {% if taller.encurso %}
                                <span class="badge text-bg-warning">PENDIENTE</span>
                            {% elif taller.aprobada %}
                                <span class="badge text-bg-success">APROBADA</span>
                            {% else %}
                                <span class="badge text-bg-danger">REPROBADA</span>
                            {% endif %}
                        </td>
                    </tr>
                    {% if forloop.last %}
                        <tr>
                            <td colspan="4">
                                <b>TOTAL</b>
                            </td>
                            <td style="text-align: center;">
                                <b>{{ taller.inscripcion.horas_talleres|floatformat:0 }}</b>
                            </td>
                            <td style="text-align: center;">
                                <b>{{ taller.inscripcion.promedio_talleres|floatformat:2 }}</b>
                            </td>
                            <td></td>
                            <td></td>
                        </tr>
                    {% endif %}
                {% empty %}
                    <tr>
                        <td colspan="20">NO EXISTEN DATOS</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div class='row'>
        <div class="col-12">
            <h4>Unidad de Titulación</h4>
            <table class='table table-bordered table-striped'>
                <thead class="table-light">
                <tr>
                    <th>Curso</th>
                    <th style="width: 350px;">Materia</th>
                    <th style="width: 80px; text-align: center;">Inicio</th>
                    <th style="width: 80px; text-align: center;">Fin</th>
                    <th style="width: 200px;">Tipo Titulación</th>
                    <th style="width: 200px;">Unidad Titulación</th>
                    <th style="width: 80px; text-align: center;">Calificaci&oacute;n</th>
                    <th style="width: 80px; text-align: center;">Asistencia</th>
                    <th style="width: 90px; text-align: center;">Estado</th>
                </tr>
                </thead>
                <tbody>
                {% for taller in titulacion %}
                    <tr>
                        <td>{{ taller.matricula.curso }}<br/>
                        <td>{{ taller.materia.asignatura }}</td>
                        <td style="text-align: center;">{{ taller.matricula.curso.fecha_inicio|date:"Y-m-d" }}</td>
                        <td style="text-align: center;">{{ taller.matricula.curso.fecha_fin|date:"Y-m-d" }}</td>
                        <td>{{ taller.matricula.curso.tipotrabajotitulacion }}</td>
                        <td>{{ taller.matricula.curso.unidadtitulacion }}</td>
                        <td style="text-align: center;">{{ taller.calificacion|floatformat:2 }}</td>
                        <td style="text-align: center;">{{ taller.asistencia|floatformat:0 }}%</td>
                        <td style="text-align: center;">
                            {% if taller.encurso %}
                                <span class="badge text-bg-warning">PENDIENTE</span>
                            {% elif taller.aprobada %}
                                <span class="badge text-bg-success">APROBADA</span>
                            {% else %}
                                <span class="badge text-bg-danger">REPROBADA</span>
                            {% endif %}
                        </td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="20">NO EXISTEN DATOS</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    {% if not inscripcion.malla_nueva %}
        <div class='row'>
            <div class="col-12">
                <h4>Practicas pre profesionales</h4>
                <table class='table table-bordered table-striped'>
                    <thead class="table-light">
                    <tr>
                        <th>Materia</th>
                        <th style="width: 25%; text-align: center;">Lugar</th>
                        <th style="width: 80px; text-align: center;">Inicio</th>
                        <th style="width: 80px; text-align: center;">Fin</th>
                        <th style="width: 50px; text-align: center;">Horas</th>
                        <th style="width: 80px; text-align: center;">Calificaci&oacute;n</th>
                        <th style="width: 80px; text-align: center;">Asistencia</th>
                        <th style="width: 90px; text-align: center;">Estado</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for practica in practicas %}
                        <tr>
                            <td>{{ practica.practica.materia }}<br/>
                            <td style="text-align: center;">{{ practica.practica.lugar }}</td>
                            <td style="text-align: center;">{{ practica.practica.inicio|date:"Y-m-d" }}</td>
                            <td style="text-align: center;">{{ practica.practica.fin|date:"Y-m-d" }}</td>
                            <td style="text-align: center;">{{ practica.practica.horas|floatformat:1 }}</td>
                            <td style="text-align: center;">{{ practica.nota|floatformat:2 }}</td>
                            <td style="text-align: center;">{{ practica.asistencia|floatformat:0 }}%</td>
                            <td style="text-align: center;">
                                {% if  practica.encurso %}
                                    <span class="badge text-bg-warning">PENDIENTE</span>
                                {% elif practica.aprobado %}
                                    <span class="badge text-bg-success">APROBADA</span>
                                {% else %}
                                    <span class="badge text-bg-danger">REPROBADA</span>
                                {% endif %}
                            </td>
                        </tr>
                        {% if forloop.last %}
                            <tr>
                                <td colspan="4">
                                    <b>TOTAL</b>
                                </td>
                                <td style="text-align: center;">
                                    <b>{{ practica.inscripcion.horas_practicas|floatformat:0 }}</b>
                                </td>
                                <td style="text-align: center;">
                                    <b>{{ practica.inscripcion.promedio_practicas|floatformat:2 }}</b>
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                        {% endif %}
                    {% empty %}
                        <tr>
                            <td colspan="20">NO EXISTEN DATOS</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    {% endif %}
    {% if not inscripcion.malla_nueva %}
        <div class='row'>
            <div class="col-12">
                <h4>Vinculaci&oacute;n con la comunidad</h4>
                <table class='table table-bordered table-striped'>
                    <thead class="table-light">
                    <tr>
                        <th>Proyecto</th>
                        <th style="width: 25%;">Programa</th>
                        <th style="width: 80px; text-align: center;">Inicio</th>
                        <th style="width: 80px; text-align: center;">Fin</th>
                        <th style="width: 50px; text-align: center;">Horas</th>
                        <th style="width: 80px; text-align: center;">Calificaci&oacute;n</th>
                        <th style="width: 80px; text-align: center;">Asistencia</th>
                        <th style="width: 90px; text-align: center;">Estado</th>
                        <th style="width: 90px; text-align: center;">Cambio</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for vcc in vccs %}
                        <tr>
                            <td>{{ vcc.proyecto.nombre }}<br/>
                            <td>{{ vcc.proyecto.programa.nombre }}</td>
                            <td style="text-align: center;">{{ vcc.proyecto.inicio|date:"Y-m-d" }}</td>
                            <td style="text-align: center;">{{ vcc.proyecto.fin|date:"Y-m-d" }}</td>
                            <td style="text-align: center;">{{ vcc.horas|floatformat:0 }}</td>
                            <td style="text-align: center;">{{ vcc.nota|floatformat:2 }}</td>
                            <td style="text-align: center;">{{ vcc.asistencia|floatformat:0 }}%</td>
                            <td style="text-align: center;">
                                {% if vcc.encurso %}
                                    <span class="badge text-bg-warning">PENDIENTE</span>
                                {% elif vcc.aprobado %}
                                    <span class="badge text-bg-success">APROBADA</span>
                                {% else %}
                                    <span class="badge text-bg-danger">REPROBADA</span>
                                {% endif %}
                            </td>
                            <td style="text-align: center;">
                                <a href="javascript:;" nhref="/inscripciones?action=cambiarinscripcion&id={{ vcc.id }}" class='btn btn-ssm btn-success formmodal tu'><i class="icon-refresh"></i></a>
                            </td>
                        </tr>
                        {% if forloop.last %}
                            <tr>
                                <td colspan="4">
                                    <b>TOTAL</b>
                                </td>
                                <td style="text-align: center;">
                                    <b>{{ vcc.inscripcion.horas_vcc|floatformat:0 }}</b>
                                </td>
                                <td style="text-align: center;">
                                    <b>{{ vcc.inscripcion.promedio_vcc|floatformat:2 }}</b>
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                        {% endif %}
                    {% empty %}
                        <tr>
                            <td colspan="20">NO EXISTEN DATOS</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    {% endif %}
{% endblock %}