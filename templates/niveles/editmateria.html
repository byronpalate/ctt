{% extends "formbs.html" %}
{% block extrajavascript %}
    <script type="text/javascript">
        $(function() {
            $("#id_inicio, #id_fin").datepicker({format:"dd-mm-yyyy"});
            $("#id_asignatura, #id_inicio, #id_fin, #id_horas, #id_creditos").addClass("validate[required]");

            materiageneral=function(){
                if ($("#id_rectora").is(':checked')){
                    $('[id*="id_carreras"]').removeAttr('disabled');
                }else{
                    $('[id*="id_carreras"]').attr({'disabled':'disabled'});
                }
            };

            $("#id_horas, #id_horassemanales").blur(function(){
                numerico($(this), 0, 0, 1);
            });

            $("#id_cupo, #id_cupocompartido").blur(function(){
                numerico($(this), 0, 0, 0);
            });

            $("#id_creditos").blur(function(){
                numerico($(this), 0, 20, 4);
            });

            $('#id_rectora').click(function(){
                materiageneral();
            });

            materiageneral();

           verifica_modelo = function () {
                if ($("#id_integracioncurricular").is(":checked")){
                    $("#fieldset_tipointegracion").show();
                    $("#id_tipointegracion").addClass('validate[required]');
                }  else {
                    $("#fieldset_tipointegracion").hide();
                    $("#id_tipointegracion").removeClass('validate[required]');
                }
            };

            $("#id_integracioncurricular").click(function () {
                verifica_modelo();
            });

            verifica_modelo();
        });
    </script>
{% endblock %}
{% block atras %}/adm_internadorotativo?action=materias&id={{ materia.internado.id }}{% endblock %}
{% block titulo %}{{ title }}{% endblock %}
{% block formdestination %}/adm_internadorotativo?action=materias&id={{ materia.internado.id }}{% endblock %}
{% block formaction %}/adm_internadorotativo{% endblock %}
{% block formextra %}
    <input type='hidden' name='action' value='editmateria'/>
    <input type='hidden' name='id' value='{{ materia.id }}'/>
{% endblock %}
{% block formback %}/adm_internadorotativo?action=materias&id={{ materia.internado.id }}{% endblock %}
